import{r as o,j as F}from"./app-BMd61d6g.js";import{a as p}from"./mapbox-gl-vEg7wxRF.js";function P({mapBoxKey:s,centerFocus:n,barangayName:a,zoomLevel:l=13}){const u=o.useRef(null),e=o.useRef(null),[c,g]=o.useState(!1),i={type:"FeatureCollection",features:[{type:"Feature",properties:{id:1,barangay:"San Francisco"},geometry:{type:"Polygon",coordinates:[[[125.99912782475212,8.575510286263182],[126.00025443311193,8.571458743014418],[126.02485768210255,8.565939354188075],[126.04450490232114,8.466818846605392],[126.1103129490703,8.46664901562528],[126.06009804976281,8.415887696221361],[126.07054556119789,8.402939305491458],[126.02793797928399,8.40460170458961],[126.02527178904438,8.408548502194648],[126.02427353120135,8.409252626098564],[126.02385934340657,8.40926067897989],[126.0212174711134,8.407984558278983],[126.02055643141244,8.408178587487853],[126.01856794991,8.409294302964668],[126.01662892223891,8.4046902116812],[126.01474001557193,8.406036008364552],[126.01358506617925,8.404625448531675],[126.00952801076892,8.405454403475574],[126.00777831277611,8.404925515942836],[126.00658549599319,8.403966025428687],[126.00485033177199,8.403227717091895],[126.00509998136846,8.401577514556351],[126.00574801766186,8.400888351042127],[125.97641093552602,8.391757550629634],[125.97390880231916,8.39080800207968],[125.97081543981409,8.39161874461628],[125.96745822964954,8.39014796167777],[125.96303628490449,8.389036768089781],[125.95862571497344,8.38720153395198],[125.96318041276902,8.371729751905093],[125.95503341347933,8.369405592514127],[125.95860757814717,8.355388169154793],[125.92791631975041,8.347929528410077],[125.89113139787435,8.393374892862454],[125.88334005008488,8.417552308867386],[125.79651821810683,8.548921445742934],[125.93730538303595,8.548744057251142],[125.9349976967647,8.577733038602531],[125.99912782475212,8.575510286263182]]]}},{type:"Feature",properties:{id:2,barangay:"Alegria"},geometry:{type:"Polygon",coordinates:[[[126.005,8.51],[126.015,8.51],[126.015,8.502],[126.005,8.502],[126.005,8.51]]]}},{type:"Feature",properties:{id:3,barangay:"Barangay 1"},geometry:{type:"Polygon",coordinates:[[[125.97,8.515],[125.98,8.515],[125.98,8.508],[125.97,8.508],[125.97,8.515]]]}},{type:"Feature",properties:{id:4,barangay:"Barangay 2"},geometry:{type:"Polygon",coordinates:[[[125.975,8.512],[125.985,8.512],[125.985,8.505],[125.975,8.505],[125.975,8.512]]]}},{type:"Feature",properties:{id:5,barangay:"Barangay 3"},geometry:{type:"Polygon",coordinates:[[[125.966,8.512],[125.976,8.512],[125.976,8.505],[125.966,8.505],[125.966,8.512]]]}},{type:"Feature",properties:{id:6,barangay:"Barangay 4"},geometry:{type:"Polygon",coordinates:[[[125.974,8.51],[125.984,8.51],[125.984,8.503],[125.974,8.503],[125.974,8.51]]]}},{type:"Feature",properties:{id:7,barangay:"Barangay 5"},geometry:{type:"Polygon",coordinates:[[[125.74,8.72],[125.75,8.72],[125.75,8.71],[125.74,8.71],[125.74,8.72]]]}}]},y=()=>a?{type:"FeatureCollection",features:i.features.filter(t=>t.properties.barangay===a)}:i;o.useEffect(()=>{const r=document.createElement("link");return r.href="https://api.mapbox.com/mapbox-gl-js/v3.0.0/mapbox-gl.css",r.rel="stylesheet",document.head.appendChild(r),g(!0),()=>{document.head.removeChild(r)}},[]),o.useEffect(()=>{if(!c||!s||e.current||!u.current)return;p.accessToken=s;const r=n||[125.94849837776422,8.483022468128098],t=n?l:10.5;return e.current=new p.Map({container:u.current,style:"mapbox://styles/makisenpai/cm9mo7odu006c01qsc3931nj7",center:r,attributionControl:!1,zoom:t}),e.current.on("load",()=>{const m=y();d(m)}),()=>{e.current&&(e.current.remove(),e.current=null)}},[s,c]),o.useEffect(()=>{if(!e.current||!e.current.isStyleLoaded())return;const r=y();f(r)},[a]),o.useEffect(()=>{!e.current||!n||e.current.flyTo({center:n,zoom:l,essential:!0,duration:1e3})},[n,a,l]);const d=r=>{e.current&&(["polygons-fill","polygons-outline"].forEach(t=>{e.current.getLayer(t)&&e.current.removeLayer(t)}),e.current.getSource("polygons")&&e.current.removeSource("polygons"),e.current.addSource("polygons",{type:"geojson",data:r}),e.current.addLayer({id:"polygons-fill",type:"fill",source:"polygons",paint:{"fill-color":["match",["get","barangay"],"San Francisco","#FFE659","Alegria","#FF5733","Barangay 1","#33FF57","Barangay 2","#3357FF","Barangay 3","#F033FF","Barangay 4","#FF33F0","Barangay 5","#33FFF0","#4F262A"],"fill-opacity":.7}}),e.current.addLayer({id:"polygons-outline",type:"line",source:"polygons",paint:{"line-color":"#000","line-width":3}}),e.current.on("mouseenter","polygons-fill",()=>{e.current.getCanvas().style.cursor="pointer"}),e.current.on("mouseleave","polygons-fill",()=>{e.current.getCanvas().style.cursor=""}))},f=r=>{if(!e.current||!e.current.getSource("polygons"))return;e.current.getSource("polygons").setData(r)};return F.jsx("div",{ref:u,className:"w-full h-full rounded-none"})}export{P as default};
