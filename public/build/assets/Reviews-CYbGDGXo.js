import{J as g,j as e}from"./app-BmNDOYhG.js";import{P as p}from"./Pagination-D7xGCnf7.js";import{M as a,U as f}from"./user-PKgJbsPL.js";import{S as b}from"./star-XAxAmOrC.js";import"./createLucideIcon-DLzLBlzm.js";function k(){const{reviews:r,average_rating:m}=g().props,l=r.data||r,x=r.links||null,o=s=>{const t=new Date(s),n=Math.abs(new Date-t),i=Math.floor(n/(1e3*60*60*24)),d=Math.floor(n/(1e3*60*60)),c=Math.floor(n/(1e3*60));return c<60?`${c} minute${c!==1?"s":""} ago`:d<24?`${d} hour${d!==1?"s":""} ago`:i<7?`${i} day${i!==1?"s":""} ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},h=s=>[1,2,3,4,5].map(t=>e.jsx(b,{className:`h-4 w-4 ${t<=s?"text-amber-400 fill-amber-400":"text-gray-300"}`},t));return!l||l.length===0?e.jsxs("div",{className:"mt-12 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(a,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reviews & Feedback"}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Community feedback and ratings"})]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-gradient-to-br from-gray-50 to-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4",children:e.jsx(a,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-900 text-lg font-semibold",children:"No reviews yet"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Be the first to share your feedback"})]})]}):e.jsxs("div",{className:"mt-12 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(a,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reviews & Feedback"}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Community feedback and ratings"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-br from-amber-50 to-orange-50 px-6 py-3 rounded-xl border border-amber-200",children:[e.jsx("div",{className:"flex items-center gap-1",children:h(Math.round(m))}),e.jsxs("div",{className:"border-l border-amber-300 pl-3",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:m.toFixed(1)}),e.jsx("span",{className:"text-sm text-gray-600 ml-1",children:"/ 5"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(s=>{var t;return e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 hover:border-purple-200 hover:shadow-lg transition-all duration-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(f,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:s.fullname}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:((t=s.category)==null?void 0:t.category_name)||"Resident"}),e.jsx("p",{className:"text-sm text-blue-600 truncate",children:s.barangay})]})]}),e.jsxs("div",{className:"flex flex-col items-end flex-shrink-0 ml-3",children:[e.jsx("div",{className:"flex items-center gap-1 mb-1",children:h(s.rate)}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:s.rate.toFixed(1)})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-3",children:s.review_content})}),s.additional_comments&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Additional Comments"}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.additional_comments})]}),s.replies&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"Official Response"}),e.jsx("p",{className:"text-sm text-blue-800 line-clamp-2",children:s.replies.reply_content}),e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:o(s.replies.created_at)})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsx("span",{className:"text-xs text-gray-500",children:o(s.created_at)}),e.jsxs("button",{className:"flex items-center gap-1.5 text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors",children:[e.jsx(a,{className:"h-4 w-4"}),s.replies?"View Reply":"Reply"]})]})]})},s.id)})}),x&&e.jsx(p,{links:x})]})}export{k as default};
