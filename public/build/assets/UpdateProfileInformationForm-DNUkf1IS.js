import{J as g,x as b,j as e,t as v}from"./app-C3ZLLJ3m.js";import{I as o}from"./InputError-lqJFMWlI.js";import{I as n}from"./InputLabel-rNpZhAk3.js";import{T as i}from"./TextInput-WsegZNq9.js";import{g as j}from"./imageHelpers-BzNwYwgf.js";import{z as N}from"./transition-BFTHkgqH.js";function S({mustVerifyEmail:d,status:u,className:c=""}){const a=g().props.auth.user,{data:r,setData:t,post:x,errors:l,processing:m,recentlySuccessful:h}=b({name:a.name||"",middlename:a.middlename||"",lastname:a.lastname||"",suffix:a.suffix||"",gender:a.gender||"",phone_num:a.phone_num||"",email:a.email||"",picture:null}),p=s=>{s.preventDefault(),x(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{t("picture",null)}})},f=s=>{t("picture",s.target.files[0])};return e.jsx("section",{className:c,children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx("div",{className:"pb-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:j(a),alt:"Profile",className:"w-16 h-16 rounded-full object-cover border border-gray-300"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsxs("label",{htmlFor:"picture",className:"inline-block",children:[e.jsx("span",{className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 cursor-pointer",children:"Upload new picture"}),e.jsx("input",{id:"picture",type:"file",className:"hidden",onChange:f,accept:"image/*"})]}),r.picture&&e.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["Selected: ",r.picture.name]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:a.picture&&(a.picture.startsWith("http://")||a.picture.startsWith("https://"))?"You can upload a custom photo to replace your Google profile picture":"Upload a photo to personalize your account"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",value:"First name",className:"text-sm font-semibold text-gray-900"}),e.jsx(i,{id:"name",className:"mt-1.5 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.name,onChange:s=>t("name",s.target.value),required:!0}),e.jsx(o,{className:"mt-1.5",message:l.name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"middlename",value:"Middle name",className:"text-sm font-semibold text-gray-900"}),e.jsx(i,{id:"middlename",className:"mt-1.5 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.middlename,onChange:s=>t("middlename",s.target.value)}),e.jsx(o,{className:"mt-1.5",message:l.middlename})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"lastname",value:"Last name",className:"text-sm font-semibold text-gray-900"}),e.jsx(i,{id:"lastname",className:"mt-1.5 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.lastname,onChange:s=>t("lastname",s.target.value),required:!0}),e.jsx(o,{className:"mt-1.5",message:l.lastname})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"suffix",value:"Suffix",className:"text-sm font-semibold text-gray-900"}),e.jsx(i,{id:"suffix",className:"mt-1.5 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.suffix,onChange:s=>t("suffix",s.target.value),placeholder:"Jr., Sr., III, etc."}),e.jsx(o,{className:"mt-1.5",message:l.suffix})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"gender",value:"Gender",className:"text-sm font-semibold text-gray-900"}),e.jsxs("select",{id:"gender",className:"mt-1.5 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.gender,onChange:s=>t("gender",s.target.value),children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"}),e.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]}),e.jsx(o,{className:"mt-1.5",message:l.gender})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone_num",value:"Phone number",className:"text-sm font-semibold text-gray-900"}),e.jsx(i,{id:"phone_num",type:"tel",className:"mt-1.5 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.phone_num,onChange:s=>t("phone_num",s.target.value),required:!0,placeholder:"+63"}),e.jsx(o,{className:"mt-1.5",message:l.phone_num})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",value:"Email",className:"text-sm font-semibold text-gray-900"}),e.jsx(i,{id:"email",type:"email",className:"mt-1.5 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.email,onChange:s=>t("email",s.target.value),required:!0}),e.jsx(o,{className:"mt-1.5",message:l.email}),d&&a.email_verified_at===null&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-xs text-gray-700",children:["Your email address is unverified."," ",e.jsx(v,{href:route("verification.send"),method:"post",as:"button",className:"text-blue-600 underline hover:text-blue-800",children:"Click here to re-send the verification email."})]}),u==="verification-link-sent"&&e.jsx("div",{className:"mt-1.5 text-xs text-green-700",children:"A new verification link has been sent to your email address."})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-4 py-1.5 text-sm font-medium text-white bg-green-600 border border-green-700 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":"Update profile"}),e.jsx(N,{show:h,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-green-700",children:"Saved!"})})]})})]})})}export{S as default};
